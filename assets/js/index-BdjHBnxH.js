import{U as V}from"./Img-t2jbQywE.js";import{d as q,A as P,s as A,h as f,M as K,r as u,o as j,c as N,b as l,w as t,a as d,N as Q,q as H,O as D,n as Z,g as O,P as $,Q as G,R as J,S as W,u as X,T as Y,L as c,e as o}from"./index-nS8LAQjE.js";import{u as h}from"./upload-CoKxYqXZ.js";import{_ as F}from"./plugin-vue_export-helper-DlAUqK2U.js";const ee={class:"upload-box"},le={class:"upload-empty"},te=["src"],ae=["onClick"],ie=["onClick"],oe={class:"el-upload__tip"},se=q({name:"UploadImgs"}),de=q({...se,props:{fileList:{default:()=>[]},api:{},drag:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},limit:{default:5},fileSize:{default:5},fileType:{default:()=>["image/jpeg","image/png","image/gif"]},height:{default:"150px"},width:{default:"150px"},borderRadius:{default:"8px"}},emits:["update:fileList"],setup(E,{emit:M}){G(a=>({"8b546a3e":a.borderRadius,"62eeec23":a.width,"3dc0c32c":a.height}));const v=E,y=P(J,void 0),x=P(W,void 0),C=A(()=>v.disabled||(y==null?void 0:y.disabled)),g=f(v.fileList);K(()=>v.fileList,a=>{g.value=a});const R=a=>{const s=a.size/1024/1024<v.fileSize,n=v.fileType.includes(a.type);return n||$({title:"æ¸©é¦¨æç¤º",message:"ä¸Šä¼ å›¾ç‰‡ä¸ç¬¦åˆæ‰€éœ€çš„æ ¼å¼ï¼",type:"warning"}),s||setTimeout(()=>{$({title:"æ¸©é¦¨æç¤º",message:`ä¸Šä¼ å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ ${v.fileSize}Mï¼`,type:"warning"})},0),n&&s},B=async a=>{let s=new FormData;s.append("file",a.file);try{const n=v.api??h,{data:L}=await n(s);a.onSuccess(L)}catch(n){a.onError(n)}},r=M,m=(a,s)=>{a&&(s.url=a.fileUrl,r("update:fileList",g.value),x!=null&&x.prop&&(y==null||y.validateField([x.prop])),$({title:"æ¸©é¦¨æç¤º",message:"å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼",type:"success"}))},z=a=>{g.value=g.value.filter(s=>s.url!==a.url||s.name!==a.name),r("update:fileList",g.value)},S=()=>{$({title:"æ¸©é¦¨æç¤º",message:"å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ‚¨é‡æ–°ä¸Šä¼ ï¼",type:"error"})},T=()=>{$({title:"æ¸©é¦¨æç¤º",message:`å½“å‰æœ€å¤šåªèƒ½ä¸Šä¼  ${v.limit} å¼ å›¾ç‰‡ï¼Œè¯·ç§»é™¤åŽä¸Šä¼ ï¼`,type:"warning"})},e=f(""),U=f(!1),b=a=>{e.value=a.url,U.value=!0};return(a,s)=>{const n=u("el-icon"),L=u("ZoomIn"),p=u("Delete"),w=u("el-upload"),k=u("el-image-viewer");return j(),N("div",ee,[l(w,{"file-list":g.value,"onUpdate:fileList":s[1]||(s[1]=_=>g.value=_),action:"#","list-type":"picture-card",class:Z(["upload",C.value?"disabled":"",a.drag?"no-border":""]),multiple:!0,disabled:C.value,limit:a.limit,"http-request":B,"before-upload":R,"on-exceed":T,"on-success":m,"on-error":S,drag:a.drag,accept:a.fileType.join(",")},{file:t(({file:_})=>[d("img",{src:_.url,class:"upload-image"},null,8,te),d("div",{class:"upload-handle",onClick:s[0]||(s[0]=H(()=>{},["stop"]))},[d("div",{class:"handle-icon",onClick:i=>b(_)},[l(n,null,{default:t(()=>[l(L)]),_:1}),s[3]||(s[3]=d("span",null,"æŸ¥çœ‹",-1))],8,ae),C.value?Q("",!0):(j(),N("div",{key:0,class:"handle-icon",onClick:i=>z(_)},[l(n,null,{default:t(()=>[l(p)]),_:1}),s[4]||(s[4]=d("span",null,"åˆ é™¤",-1))],8,ie))])]),default:t(()=>[d("div",le,[D(a.$slots,"empty",{},()=>[l(n,null,{default:t(()=>[l(X(Y))]),_:1})],!0)])]),_:3},8,["file-list","class","disabled","limit","drag","accept"]),d("div",oe,[D(a.$slots,"tip",{},void 0,!0)]),U.value?(j(),O(k,{key:0,"url-list":[e.value],onClose:s[2]||(s[2]=_=>U.value=!1)},null,8,["url-list"])):Q("",!0)])}}}),I=F(de,[["__scopeId","data-v-5c930775"]]),ue={class:"upload content-box"},re={class:"card img-box"},ne={class:"upload-list"},pe={class:"card img-box"},me={class:"upload-list"},fe={class:"form-box"},ve={class:"card"},ge={class:"card"},be=q({name:"uploadFile"}),ye=q({...be,setup(E){const M=f([{name:"img",url:"https://i.imgtg.com/2023/01/16/QRBHS.jpg"}]),v=f([]),y=f(""),x=f(""),C=f(""),g=f(""),R=f("https://i.imgtg.com/2023/01/16/QRqMK.jpg"),B=c({avatar:[{required:!0,message:"è¯·ä¸Šä¼ ç”¨æˆ·å¤´åƒ"}],photo:[{required:!0,message:"è¯·ä¸Šä¼ ç”¨æˆ·ç…§ç‰‡"}],username:[{required:!0,message:"è¯·å¡«å†™ç”¨æˆ·å§“å"}],idCard:[{required:!0,message:"è¯·å¡«å†™èº«ä»½è¯å·"}],email:[{required:!0,message:"è¯·å¡«å†™é‚®ç®±"}]}),r=f({avatar:"",photo:[{name:"img",url:"https://i.imgtg.com/2023/01/16/QR57a.jpg"}],username:"",idCard:"",email:""}),m=f({avatar:"",photo:[{name:"img",url:"https://i.imgtg.com/2023/01/16/QR57a.jpg"}],username:"",idCard:"",email:""}),z=f(),S=()=>{z.value.validate(T=>{})};return(T,e)=>{const U=u("Picture"),b=u("el-icon"),a=u("el-descriptions-item"),s=u("el-descriptions"),n=u("Avatar"),L=u("el-alert"),p=u("el-form-item"),w=u("el-input"),k=u("el-button"),_=u("el-form");return j(),N("div",ue,[d("div",re,[e[23]||(e[23]=d("span",{class:"text"},"å¤šå›¾ç‰‡ä¸Šä¼ ç»„ä»¶ ðŸ“ðŸ‡ðŸˆðŸ‰",-1)),d("div",ne,[l(I,{"file-list":M.value,"onUpdate:fileList":e[0]||(e[0]=i=>M.value=i),drag:!1,"border-radius":"50%"},{empty:t(()=>[l(b,null,{default:t(()=>[l(U)]),_:1}),e[17]||(e[17]=d("span",null,"è¯·ä¸Šä¼ ç…§ç‰‡",-1))]),tip:t(()=>e[18]||(e[18]=[o(" åœ†å½¢ç»„ä»¶ï¼Œå›¾ç‰‡æœ€å¤§ä¸º 5Mï¼ˆç¦æ­¢æ‹–æ‹½ä¸Šä¼ ï¼‰ ")])),_:1},8,["file-list"]),l(I,{"file-list":v.value,"onUpdate:fileList":e[1]||(e[1]=i=>v.value=i),width:"250px"},{empty:t(()=>[l(b,null,{default:t(()=>[l(U)]),_:1}),e[19]||(e[19]=d("span",null,"è¯·ä¸Šä¼ ç…§ç‰‡",-1))]),tip:t(()=>e[20]||(e[20]=[o(" é•¿æ–¹å½¢ç»„ä»¶ï¼ˆå¯æ‹–æ‹½ä¸Šä¼ ï¼‰ ")])),_:1},8,["file-list"])]),l(s,{title:"é…ç½®é¡¹ ðŸ“šï¼ˆå…¶å®ƒå‚æ•°å’Œå•å›¾ä¸Šä¼ ç»„ä»¶ç›¸åŒï¼‰",column:1,border:""},{default:t(()=>[l(a,{label:"fileList"},{default:t(()=>e[21]||(e[21]=[o(' åŒå‘ç»‘å®šçš„ fileList å€¼ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š v-model:file-list="fileList" ')])),_:1}),l(a,{label:"limit"},{default:t(()=>e[22]||(e[22]=[o(" æœ€å¤§å›¾ç‰‡ä¸Šä¼ æ•°ï¼Œé»˜è®¤ä¸º 5 å¼  ")])),_:1})]),_:1})]),d("div",pe,[e[40]||(e[40]=d("span",{class:"text"},"å•å›¾ç‰‡ä¸Šä¼ ç»„ä»¶ ðŸ“ðŸ‡ðŸˆðŸ‰",-1)),d("div",me,[l(V,{"image-url":y.value,"onUpdate:imageUrl":e[2]||(e[2]=i=>y.value=i),"file-size":3},{tip:t(()=>e[24]||(e[24]=[o(" ä¸Šä¼ å›¾ç‰‡æœ€å¤§ä¸º 3M ")])),_:1},8,["image-url"]),l(V,{"image-url":x.value,"onUpdate:imageUrl":e[3]||(e[3]=i=>x.value=i),drag:!1,"border-radius":"50%"},{empty:t(()=>[l(b,null,{default:t(()=>[l(n)]),_:1}),e[25]||(e[25]=d("span",null,"è¯·ä¸Šä¼ å¤´åƒ",-1))]),tip:t(()=>e[26]||(e[26]=[o(" åœ†å½¢ç»„ä»¶ï¼ˆç¦æ­¢æ‹–æ‹½ä¸Šä¼ ï¼‰ ")])),_:1},8,["image-url"]),l(V,{"image-url":C.value,"onUpdate:imageUrl":e[4]||(e[4]=i=>C.value=i),width:"250px"},{empty:t(()=>[l(b,null,{default:t(()=>[l(U)]),_:1}),e[27]||(e[27]=d("span",null,"è¯·ä¸Šä¼  Banner å›¾",-1))]),tip:t(()=>e[28]||(e[28]=[o(" é•¿æ–¹å½¢ç»„ä»¶ï¼ˆå¯æ‹–æ‹½ä¸Šä¼ ï¼‰ ")])),_:1},8,["image-url"]),l(V,{"image-url":g.value,"onUpdate:imageUrl":e[5]||(e[5]=i=>g.value=i),disabled:""},{tip:t(()=>e[29]||(e[29]=[o(" æ— å›¾ï¼ˆç¦ç”¨ä¸Šä¼ ï¼‰ ")])),_:1},8,["image-url"]),l(V,{"image-url":R.value,"onUpdate:imageUrl":e[6]||(e[6]=i=>R.value=i),disabled:""},{tip:t(()=>e[30]||(e[30]=[o(" æœ‰å›¾ï¼ˆç¦ç”¨ç¼–è¾‘ã€åˆ é™¤ï¼‰ ")])),_:1},8,["image-url"])]),l(s,{title:"é…ç½®é¡¹ ðŸ“š",column:1,border:""},{default:t(()=>[l(a,{label:"imageUrl"},{default:t(()=>e[31]||(e[31]=[o(' åŒå‘ç»‘å®šçš„ imageUrl å€¼ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š v-model:image-url="avatar" ')])),_:1}),l(a,{label:"api"},{default:t(()=>e[32]||(e[32]=[o(" ä¸Šä¼ å›¾ç‰‡çš„ api æ–¹æ³•ï¼Œä¸€èˆ¬é¡¹ç›®ä¸Šä¼ éƒ½æ˜¯åŒä¸€ä¸ª api æ–¹æ³•ï¼Œåœ¨ç»„ä»¶é‡Œç›´æŽ¥å¼•å…¥å³å¯ï¼ˆéžå¿…ä¼ ï¼‰ ")])),_:1}),l(a,{label:"drag"},{default:t(()=>e[33]||(e[33]=[o(" æ˜¯å¦æ”¯æŒæ‹–æ‹½ä¸Šä¼ å›¾ç‰‡ï¼Œé»˜è®¤ä¸º true ")])),_:1}),l(a,{label:"disabled"},{default:t(()=>e[34]||(e[34]=[o(" æ˜¯å¦ç¦ç”¨ ä¸Šä¼ ã€åˆ é™¤ åŠŸèƒ½ï¼Œå¯æŸ¥çœ‹å›¾ç‰‡ ")])),_:1}),l(a,{label:"fileSize"},{default:t(()=>e[35]||(e[35]=[o(" å•ä¸ªå›¾ç‰‡æ–‡ä»¶å¤§å°é™åˆ¶ï¼Œé»˜è®¤ä¸º 5M ")])),_:1}),l(a,{label:"fileType"},{default:t(()=>e[36]||(e[36]=[o(' å›¾ç‰‡ç±»åž‹é™åˆ¶ï¼Œé»˜è®¤ç±»åž‹ä¸º ["image/jpeg", "image/png", "image/gif"] ')])),_:1}),l(a,{label:"height"},{default:t(()=>e[37]||(e[37]=[o(' ç»„ä»¶é«˜åº¦æ ·å¼ï¼Œé»˜è®¤ä¸º "150px" ')])),_:1}),l(a,{label:"width"},{default:t(()=>e[38]||(e[38]=[o(' ç»„ä»¶å®½åº¦æ ·å¼ï¼Œé»˜è®¤ä¸º "150px" ')])),_:1}),l(a,{label:"borderRadius"},{default:t(()=>e[39]||(e[39]=[o(' ç»„ä»¶è¾¹æ¡†åœ†è§’æ ·å¼ï¼Œé»˜è®¤ä¸º "8px" ')])),_:1})]),_:1})]),d("div",fe,[d("div",ve,[l(L,{title:"å›¾ç‰‡ä¸Šä¼ ç»„ä»¶åœ¨ form è¡¨å•ä¸­ä½¿ç”¨ï¼Œä¸Šä¼ ä¹‹åŽæˆåŠŸä¼šè‡ªåŠ¨é‡æ–°æ ¡éªŒ",type:"warning",effect:"dark",closable:!1,class:"mb20"}),l(_,{ref_key:"ruleFormRef",ref:z,"label-width":"100px","label-suffix":" :",rules:B,model:r.value},{default:t(()=>[l(p,{label:"ç”¨æˆ·å¤´åƒ",prop:"avatar"},{default:t(()=>[l(V,{"image-url":r.value.avatar,"onUpdate:imageUrl":e[7]||(e[7]=i=>r.value.avatar=i),width:"135px",height:"135px","file-size":3},{empty:t(()=>[l(b,null,{default:t(()=>[l(n)]),_:1}),e[41]||(e[41]=d("span",null,"è¯·ä¸Šä¼ å¤´åƒ",-1))]),tip:t(()=>e[42]||(e[42]=[o(" å¤´åƒå¤§å°ä¸èƒ½è¶…è¿‡ 3M ")])),_:1},8,["image-url"])]),_:1}),l(p,{label:"ç”¨æˆ·ç…§ç‰‡",prop:"photo"},{default:t(()=>[l(I,{"file-list":r.value.photo,"onUpdate:fileList":e[8]||(e[8]=i=>r.value.photo=i),limit:3,height:"140px",width:"140px","border-radius":"50%"},{empty:t(()=>[l(b,null,{default:t(()=>[l(U)]),_:1}),e[43]||(e[43]=d("span",null,"è¯·ä¸Šä¼ ç…§ç‰‡",-1))]),tip:t(()=>e[44]||(e[44]=[o(" æœ€å¤šä¸Šä¼  3 å¼ ç…§ç‰‡ ")])),_:1},8,["file-list"])]),_:1}),l(p,{label:"ç”¨æˆ·å§“å",prop:"username"},{default:t(()=>[l(w,{modelValue:r.value.username,"onUpdate:modelValue":e[9]||(e[9]=i=>r.value.username=i),placeholder:"è¯·å¡«å†™ç”¨æˆ·å§“å",clearable:""},null,8,["modelValue"])]),_:1}),l(p,{label:"èº«ä»½è¯å·",prop:"idCard"},{default:t(()=>[l(w,{modelValue:r.value.idCard,"onUpdate:modelValue":e[10]||(e[10]=i=>r.value.idCard=i),placeholder:"è¯·å¡«å†™èº«ä»½è¯å·",clearable:""},null,8,["modelValue"])]),_:1}),l(p,{label:"é‚®ç®±",prop:"email"},{default:t(()=>[l(w,{modelValue:r.value.email,"onUpdate:modelValue":e[11]||(e[11]=i=>r.value.email=i),placeholder:"è¯·å¡«å†™é‚®ç®±",clearable:""},null,8,["modelValue"])]),_:1}),l(p,null,{default:t(()=>[l(k,null,{default:t(()=>e[45]||(e[45]=[o(" å–æ¶ˆ ")])),_:1}),l(k,{type:"primary",onClick:S},{default:t(()=>e[46]||(e[46]=[o(" ç¡®å®š ")])),_:1})]),_:1})]),_:1},8,["rules","model"])]),d("div",ge,[l(L,{title:"å›¾ç‰‡ä¸Šä¼ ç»„ä»¶åœ¨ form è¡¨å•ä¸­ä½¿ç”¨ï¼Œå¦‚æžœè¯¥è¡¨å•ç¦ç”¨ï¼Œåˆ™ä¸Šä¼ ç»„ä»¶ä¼šè‡ªåŠ¨ç¦ç”¨",type:"warning",effect:"dark",closable:!1,class:"mb20"}),l(_,{"label-width":"100px","label-suffix":" :",disabled:"",model:m.value},{default:t(()=>[l(p,{label:"ç”¨æˆ·å¤´åƒ",prop:"avatar"},{default:t(()=>[l(V,{"image-url":m.value.avatar,"onUpdate:imageUrl":e[12]||(e[12]=i=>m.value.avatar=i),width:"135px",height:"135px","file-size":3},{empty:t(()=>[l(b,null,{default:t(()=>[l(n)]),_:1}),e[47]||(e[47]=d("span",null,"è¯·ä¸Šä¼ å¤´åƒ",-1))]),tip:t(()=>e[48]||(e[48]=[o(" å¤´åƒå¤§å°ä¸èƒ½è¶…è¿‡ 3M ")])),_:1},8,["image-url"])]),_:1}),l(p,{label:"ç”¨æˆ·ç…§ç‰‡",prop:"photo"},{default:t(()=>[l(I,{"file-list":m.value.photo,"onUpdate:fileList":e[13]||(e[13]=i=>m.value.photo=i),height:"140px",width:"140px","border-radius":"50%"},{empty:t(()=>[l(b,null,{default:t(()=>[l(U)]),_:1}),e[49]||(e[49]=d("span",null,"è¯·ä¸Šä¼ ç…§ç‰‡",-1))]),tip:t(()=>e[50]||(e[50]=[o(" ç…§ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5M ")])),_:1},8,["file-list"])]),_:1}),l(p,{label:"ç”¨æˆ·å§“å",prop:"username"},{default:t(()=>[l(w,{modelValue:m.value.username,"onUpdate:modelValue":e[14]||(e[14]=i=>m.value.username=i),placeholder:"è¯·å¡«å†™ç”¨æˆ·å§“å",clearable:""},null,8,["modelValue"])]),_:1}),l(p,{label:"èº«ä»½è¯å·",prop:"idCard"},{default:t(()=>[l(w,{modelValue:m.value.idCard,"onUpdate:modelValue":e[15]||(e[15]=i=>m.value.idCard=i),placeholder:"è¯·å¡«å†™èº«ä»½è¯å·",clearable:""},null,8,["modelValue"])]),_:1}),l(p,{label:"é‚®ç®±",prop:"email"},{default:t(()=>[l(w,{modelValue:m.value.email,"onUpdate:modelValue":e[16]||(e[16]=i=>m.value.email=i),placeholder:"è¯·å¡«å†™é‚®ç®±",clearable:""},null,8,["modelValue"])]),_:1}),l(p,null,{default:t(()=>[l(k,null,{default:t(()=>e[51]||(e[51]=[o(" å–æ¶ˆ ")])),_:1}),l(k,{type:"primary",onClick:S},{default:t(()=>e[52]||(e[52]=[o(" ç¡®å®š ")])),_:1})]),_:1})]),_:1},8,["model"])])])])}}}),Ve=F(ye,[["__scopeId","data-v-8321fd34"]]);export{Ve as default};
